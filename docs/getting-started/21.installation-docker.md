---
parent: Getting Started
nav_order: 21
title: Installation-Docker
permalink: /docs/getting-started/installation-docker
layout: default
---

# How to get started machbase-neo with docker

## Prepare

- Docker any version. (latest version recommended)

## Docker Pull

Copy the command below and enter it in the terminal to install the latest version of machbase-neo in Docker.

```sh
docker pull machbase/machbase-neo
```

If you want to get a specific version, add a tag to the command.

```sh
docker pull machbase/machbase-neo:{{ site.latest_version }}
```

If you want to find a different version of the Docker image, look it up [here](https://hub.docker.com/r/machbase/machbase-neo/tags).

## Docker Run

### Foreground

```sh
docker run -it machbase/machbase-neo
```

- `-i`, `--interactive`: Keep STDIN open even if not attached
- `-t`, `--tty`: Allocate a pseudo-TTY

If you run with foreground, you can exit directly with `Ctrl + c` signal.

### Background

```sh
docker run -itd machbase/machbase-neo
```

- `-d`, `--detach`: Run container in background and print container ID

If you run with background, you can exit indirectly with below command.

```sh
docker stop $(docker ps | grep machbase-neo | awk '{print $1}')
```

If you are using multiple machbase-neo images, it is recommended that you stop by entering the Container ID directly instead of the above command.

__For example__

```sh
$ docker ps
CONTAINER ID   IMAGE                   COMMAND                   CREATED         STATUS        PORTS           NAMES
92382cf7b738   machbase/machbase-neo   "/bin/sh -c '/opt/ma…"   2 seconds ago   Up 1 second   5652-5656/tcp   exciting_volhard

$ docker stop 92382cf7b738

$ docker ps
CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES
# Container deleted.
```

For more docker commands, see [Docker docs](https://docs.docker.com/).

## Docker Configuration

### Volume

- `/data`

It is machbase-neo home path in docker. you can mount this.

```sh
docker run -v /path/to/host/dir:/data -d machbase/machbase-neo
```

### Port

Machbase-neo exposes several ports in Docker.

|Port|Description|
|:-|:-----|
|5652|sshd|
|5653|mqtt|
|5654|http|
|5655|grpc|
|5656|database engine|

### Port mapping (forwarding)

If you want connect to external port, you can use this.

```sh
docker run -it -p <host port>:<container port>/<protocol> machbase/machbase-neo
```

- `-p`, `--expose`: Publish a container’s port(s) to the host
- `<host port>`: The port of host machine.
- `<container port>`: The port of container.
- `<protocol>`: specify tcp, udp, sctp

__For example__

```sh
docker run -it -p 8080:5654/tcp machbase/machbase-neo
```

It means just mapping to host's 8080 port and container's 5654 port using tcp protocol.

When you send a message to the host's 8080 port, it is also forwarded to the container's 5654 port.
