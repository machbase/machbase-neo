---
layout: default
parent: Bridges and Scheduler
title: Bridges
nav_order: 10
has_children: false
---

# Bridges
{: .no_toc}

1. TOC
{: toc}

register sqlite connection

```
bridge add -t sqlite sqlitedb file:///data/sqlite.db;
```

```
bridge list

┌──────────┬────────┬────────────────────────┐
│ NAME     │ TYPE   │ CONNECTION             │
├──────────┼────────┼────────────────────────┤
│ sqlitedb │ sqlite │ file:///data/sqlite.db │
└──────────┴────────┴────────────────────────┘
```


```

```
bridge exec sqlitedb CREATE TABLE IF NOT EXISTS example(id INTEGER NOT NULL PRIMARY KEY, name TEXT, age TEXT, address TEXT, UNIQUE(name));

```
bridge query sqlitedb select * from example;

┌────┬────────┬─────┬───────────────┐
│ ID │ NAME   │ AGE │ ADDRESS       │
├────┼────────┼─────┼───────────────┤
│  1 │ hong_1 │ 20  │ address for 1 │
│  2 │ hong_2 │ 20  │ address for 2 │
│  3 │ hong_3 │ 20  │ address for 3 │
└────┴────────┴─────┴───────────────┘
```


- tql example access bridge

```
INPUT(FAKE(linspace(-1.0,1.0,1)))
SCRIPT({
  fmt := import("fmt")
  ctx := import("context")
  sql := ctx.bridge("sqlite")
  rows := sql.query("select * from example")
  for rows.next() {
    rec := rows.scan()
    ctx.yieldKey(rec.id, rec.name, rec.age, rec.address)
  }
  rows.close()
  sql.close()
})
OUTPUT(CSV())
```