---
layout: default
parent: Bridges
title: Bridge - MQTT
nav_order: 21
has_children: false
---

# Birdge - MQTT
{: .no_toc}

1. TOC
{: toc}

## Register a bridge to an external MQTT broker

Register

```
bridge add -t mqtt my_mqtt broker=127.0.0.1:1883 id=client-id;
```

A mqtt bridge just defines how machbase-neo can connect to the external MQTT broker,
See the [Subscriber](../subscriber/00.index.md) to get it started.

Available connect options

| Option           | Description                          | example         |
| :-----------     | :---------------------------------   | :-------------  |
| `broker`         | brokder address, If the broker has redundant access points, use multiple "broker" options | `broker=192.0.1.100:1883` |
| `id`             | client id                            |                 |
| `username`       | username                             |                 |
| `password`       | password                             |                 |
| `keepalive`      | keepalive in duration format         | `keepalive=30s` |
| `clieansession`  | cleansesion                          | `cleansession=1` `cleansession=false` |
| `cafile`         | ca cert (`*.pem`) file path            |  *TLS*          |
| `key`            | client private key (`*.pem`) file path |  *TLS*          |
| `cert`           | client certificate (`*.pem`) file path |  *TLS*          |

> When all three of `cafile`, `key`, `cert` options are set, the secure mqtt connection is enabled with TLS.